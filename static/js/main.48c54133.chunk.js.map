{"version":3,"sources":["components/Header.js","components/contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","src","link","alt","name","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","avatar","about","map","Footer","PopupWithForm","isOpen","noValidate","onSubmit","title","children","buttonText","onClose","ImagePopup","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","userData","body","JSON","stringify","data","id","all","getInitialCards","getUserInfo","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","pattern","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","catch","err","console","log","Provider","i","changeLikeCardStatus","newCard","state","c","delete","filter","setUserInfoApi","cardData","addUserCard","handleUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.48c54133.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n      <header className=\"header\">\r\n        <div className=\"header__logo\"></div>\r\n      </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()","import React from 'react'\r\nimport { CurrentUserContext } from './contexts/CurrentUserContext'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const isOwn = props.card.owner._id === currentUser._id\r\n  const isLiked = props.card.likes.some((item) => item._id === currentUser._id)\r\n  const cardDeleteButtonClassName = (\r\n    `elements__remove-button ${isOwn ? '' : 'elements__remove-button_state_hidden'}`\r\n  )\r\n  const cardLikeButtonClassName  = (\r\n    `elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\r\n  )\r\n\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card)\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return(\r\n    <li className=\"elements__card\">\r\n      <img\r\n        src={props.card.link}\r\n        className=\"elements__image\"\r\n        alt={props.card.name}\r\n        onClick={handleCardClick}\r\n      />\r\n      <div className=\"elements__title-wrapper\">\r\n        <h2 className=\"elements__title\">{props.card.name}</h2>\r\n        <div className=\"elements__like-wrapper\">\r\n          <button\r\n          type=\"button\"\r\n          className={cardLikeButtonClassName}\r\n          onClick={handleLikeClick}\r\n          >\r\n          </button>\r\n          <span className=\"elements__like-count\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n      <button\r\n      className={cardDeleteButtonClassName}\r\n      onClick={handleDeleteClick}\r\n      >\r\n      </button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\nimport Card from './Card'\r\nimport { CurrentUserContext } from './contexts/CurrentUserContext'\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, handleCardLike, handleCardDelete, cards}) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-wrapper\">\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"Изображение профиля\"\r\n            className=\"profile__avatar\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__avatar-edit-button\"\r\n            onClick={onEditAvatar}\r\n          >\r\n          </button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__container\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              onClick={onEditProfile}\r\n            >\r\n            </button>\r\n          </div>\r\n          <h2 className=\"profile__about\">{currentUser.about}</h2>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        >\r\n        </button>\r\n      </section>\r\n      <section className=\"elements-container\">\r\n        <ul className=\"elements\">\r\n          {\r\n            cards.map((card) => <Card key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            />)\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyrights\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container popup__overlay\">\r\n        <form\r\n        className=\"popup__form\"\r\n        name={props.name}\r\n        noValidate\r\n        onSubmit={props.onSubmit}\r\n        >\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"popup__button\"\r\n            >\r\n              {props.buttonText}\r\n            </button>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button\"\r\n          onClick={props.onClose}\r\n        >\r\n        </button>\r\n      </div>  \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm","function ImagePopup(props) {\r\n  \r\n  return (\r\n    <div className={`popup popup_zoom-image ${props.card ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__figure-container popup__overlay\">\r\n        <figure className=\"popup__figure\">\r\n          <img\r\n            src={props.card ? props.card.link : '#'}\r\n            className=\"popup__image\"\r\n            alt={props.card ? props.card.name : ''}\r\n          />\r\n          <figcaption\r\n            className=\"popup__caption\">\r\n              {props.card ? props.card.name : ''}\r\n          </figcaption>\r\n        </figure>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button popup__close-button_zoom-image\"\r\n          onClick={props.onClose}\r\n        >\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n  constructor(options) {\r\n    this._url = options.url\r\n    this._headers = options.headers\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._url + '/users/me', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._url + '/cards', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfoApi(userData) {\r\n    return fetch(this._url + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: userData.name,\r\n        about: userData.about\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  addUserCard(data) {\r\n    return fetch(this._url + '/cards', {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(this._url + `/cards/likes/${id}`, {\r\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  delete(id) {\r\n    return fetch(this._url + `/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  handleUserAvatar(data) {\r\n    return fetch(this._url + `/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getAllNeededData() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()])\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23',\r\n  headers: {\r\n    authorization: '1a04582c-c338-4c76-b689-0417388dddf2',\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\nexport { api }","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport { CurrentUserContext } from './contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('')\r\n  const [description, setDescription] = React.useState('')\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n  \r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n    name='profile-edit'\r\n    title='Редактировать профиль'\r\n    buttonText='Сохранить'\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"userName\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_data_name\"\r\n        id=\"userName-input\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\" pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\r\n        required\r\n        value={name}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"popup__input-error userName-input-error\"></span>\r\n      <input\r\n        name=\"userAbout\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_data_about\"\r\n        id=\"userAbout-input\"\r\n        placeholder=\"Профессия\"\r\n        minLength=\"2\"\r\n        pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\r\n        maxLength=\"200\"\r\n        required\r\n        value={description}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span className=\"popup__input-error userAbout-input-error\"></span>\r\n    </PopupWithForm>    \r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef('')\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar-edit'\r\n      title='Обновить аватар'\r\n      buttonText='Сохранить'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"userAvatar\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_data_about\"\r\n        id=\"userAvatar-input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        ref={avatarRef}\r\n      />\r\n      <span className=\"popup__input-error userAvatar-input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('')\r\n  const [link, setLink] = React.useState('')\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n  \r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='card-add'\r\n      title='Новое место'\r\n      buttonText='Создать'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_place_name\"\r\n        id=\"placeName-input\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\r\n        required\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"popup__input-error placeName-input-error\"></span>\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_place_url\"\r\n        id=\"placeUrl-input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span className=\"popup__input-error placeUrl-input-error\"></span>        \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react'\r\nimport Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport ImagePopup from './ImagePopup'\r\nimport { api } from '../utils/api'\r\nimport { CurrentUserContext } from './contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport AddPlacePopup from './AddPlacePopup'\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\r\n  const [selectedCard, setSelectedCard] = React.useState(null)\r\n  const [cards, setCards] = React.useState([])\r\n  const [currentUser, setCurrentUser] = React.useState({})\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false)\r\n    setEditProfilePopupOpen(false)\r\n    setAddPlacePopupOpen(false)\r\n    setSelectedCard(null)\r\n  }\r\n\r\n  function onCardClick(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  function onUpdateUser(userData) {\r\n    api.setUserInfoApi(userData)\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function onUpdateAvatar(userData) {\r\n    api.handleUserAvatar(userData)\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.delete(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter((item) => item !== card))\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit(cardData) {\r\n    api.addUserCard(cardData)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((data) => {\r\n        setCards(data)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={onCardClick}\r\n          handleCardLike={handleCardLike}\r\n          handleCardDelete={handleCardDelete}\r\n          cards={cards}\r\n        />\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={onUpdateUser}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}        \r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={onUpdateAvatar}\r\n        />\r\n        <PopupWithForm\r\n          name='confirm-delete'\r\n          title='Вы уверены?'\r\n          buttonText='Да'\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}